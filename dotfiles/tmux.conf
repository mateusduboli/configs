# terminal options
set-window-option -g utf8 on
set -g default-terminal "xterm-256color"
set -g mouse-select-pane on
set -g status-utf8 on

set-window-option -g mode-keys vi
# start counting at 1
set-window-option -g pane-base-index 1

# set prefix to c-a
unbind C-b
set -g prefix C-a
bind-key C-a send-prefix

# move with vi-like keys
bind-key h run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|n?vim?)(diff)?$' && tmux send-prefix && tmux send-keys h) || tmux select-pane -L"
bind-key j run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|n?vim?)(diff)?$' && tmux send-prefix && tmux send-keys j) || tmux select-pane -D"
bind-key k run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|n?vim?)(diff)?$' && tmux send-prefix && tmux send-keys k) || tmux select-pane -U"
bind-key l run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|n?vim?)(diff)?$' && tmux send-prefix && tmux send-keys l) || tmux select-pane -R"

set-environment -g PATH $PATH

# vi like screen swap
unbind H
unbind L
bind-key H swap-pane -U
bind-key L swap-pane -D

# vi like copy
unbind Escape
unbind p
bind-key Escape copy-mode
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-selection
bind-key p paste-buffer

# arrow keys resize panels
unbind Left
unbind Right
unbind Up
unbind Down
bind-key Left resize-pane -L 5
bind-key Right resize-pane -R 5
bind-key Up resize-pane -U 5
bind-key Down resize-pane -D 5

# square brackets move between windows and
unbind ]
unbind [
bind-key ] next-window
bind-key [ previous-window

# a to cycle throgh panes
unbind a
bind-key a select-pane -t :.+

# easy to remember split panes
unbind |
unbind -
bind-key | split-window -h
bind-key - split-window -v

# reload config during debug sessions
bind-key r source ~/.tmux.conf
